@prefix activity: <https://w3id.org/arm/core/activity/0.1/> .
@prefix arm: <https://w3id.org/arm/core/ontology/0.1/> .
@prefix bf: <http://id.loc.gov/ontologies/bibframe/> .
@prefix crm: <http://www.cidoc-crm.org/Property/P2-has-type/Version-6.2/> .
@prefix dcterms: <http://purl.org/dc/terms/> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix skos: <http://www.w3.org/2004/02/skos/core#> .
@prefix swa: <http://topbraid.org/swa#> .
@prefix tosh: <http://topbraid.org/tosh#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

@prefix : <https://w3id.org/arm/application_profiles/raremat_monograph/shacl/raremat_monograph_enclosure/> .
@prefix arm_core_property_shapes: <https://w3id.org/arm/core/validation/shacl/arm_core_property_shapes/> .

#
# TODO In combination with PropertyShapes in arm_core_property_shapes, same 
# as raremat_monograph_form:MaterialForm. Combine.
#
# TODO Ignoring arm:hasAppliedMaterial and arm:hasBaseMaterial for now
#

# Links a resource to its material
:arm_hasMaterial
    sh:and (
        arm_core_property_shapes:arm_hasMaterial
        [
            # NON-VALIDATING
            sh:name "Made of material" ;
            sh:description "Materials of which this resource is made. There may be one or more." ;
            sh:order "0"^^xsd:decimal ;
            tosh:editWidget swa:NestedObjectEditor ;                   
        ]
    ) ;
    .

:MaterialForm
    rdf:type sh:NodeShape ;
    rdfs:label "Material form" ;
    sh:targetClass crm:E57 ;
    sh:property 
        :MaterialForm_crm_P2_has_type ;
    .
        
:MaterialForm_crm_P2_has_type 
    sh:and (
        arm_core_property_shapes:crm_P2_has_type
        [
            # NON-VALIDATING
            sh:name "Material type" ;
            sh:order "0"^^xsd:decimal ;        
        ]
    );
    .
